
import 'dart:io';

abstract class BankAccount {
  String? _accountNumber;
  double? _balance, _amount, _withdraw;

  void deposit({required double amount});

  void withdrawl({required double withdraw});

  void checkBalance();

  void applyInterest();
}

class SavingAccount extends BankAccount {
  double _interestRate = 0.5;

  void setter() {
    stdout.write("Enter Account no.: ");
    _accountNumber = stdin.readLineSync()!;
    stdout.write("Enter balance: ");
    _balance = double.parse(stdin.readLineSync()!);
  }

  void setInterestRate(double interestRate) {
    if (interestRate >= 0 && interestRate <= 9) {
      _interestRate = interestRate;
      print("Interest rate set to $_interestRate%");
    } else {
      print("Invalid interest rate. Must be between 0 and 9.");
    }
  }

  @override
  void deposit({required double amount}) {
    this._amount = amount;
    this._balance = this._balance! + this._amount!;
  }

  @override
  void withdrawl({required double withdraw}) {
    this._withdraw = withdraw;
https://aka.ms/vscode-scm    _balance = _balance! - this._withdraw!;
  }

  @override
  void checkBalance() {
    print("Balance: $_balance");
  }

  @override
  void applyInterest() {
    // Calculate the interest and update balance
    double interest = _balance! * (_interestRate / 100);
    _balance = _balance! + interest;
    print("Interest applied: $interest");
    print("New balance after interest: $_balance");
  }
}

void main() {
  SavingAccount savingAccount = SavingAccount();

  int choice;

  savingAccount.setter();

  while (true) {
    stdout.write("Enter 1 for deposit: \n");
    stdout.write("Enter 2 for withdrawl: \n");
    stdout.write("Enter 3 for check balance: \n");
    stdout.write("Enter 4 for set interest rate: \n");
    stdout.write("Enter 5 to apply interest: \n");
    stdout.write("Enter 6 for exit: \n");
    choice = int.parse(stdin.readLineSync()!);
    switch (choice) {
      case 1:
        stdout.write("Enter amount for deposit: ");
        double amount = double.parse(stdin.readLineSync()!);
        savingAccount.deposit(amount: amount);
        break;

      case 2:
        stdout.write("Enter amount to withdrawl: ");
        double amount = double.parse(stdin.readLineSync()!);
        savingAccount.withdrawl(withdraw: amount);
        break;

      case 3:
        savingAccount.checkBalance();
        break;

      case 4:
        stdout.write("Enter interest rate: ");
        double rate = double.parse(stdin.readLineSync()!);
        savingAccount.setInterestRate(rate);
        break;

      case 5:
        savingAccount.applyInterest();
        break;

      case 6:
        return;

      default:
        print("Enter valid value: ");
    }
  }
}
